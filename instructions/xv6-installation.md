---
title: Οδηγίες Εγκατάστασης
bibliography: bibliography.bib
geometry: margin=7em
fontsize: 17pt
colorlinks: true
---

[//]: # (Παρακάτω δίνονται οι οδηγίες για την εγκατάσταση του λειτουργικού συστήματος **Debian** σε εικονική μηχανή μέσω του λογισμικού **Virtual Box**.)

**Σημείωση**: Επειδή το σύστημα του καθενός είναι διαφορετικό, ενδεχομένως να συναντήσετε προβλήματα κατά την εκκίνηση της εικονικής μηχανής.
Σε κάθε περίπτωση, μπορείτε να αναζητήσετε λύση για κάθε σφάλμα με βάση τα μυνήματα σφάλματος που συναντάται.

**Προσοχή:** Για να μπορέσει να εκκινηθεί η εικονική μηχανή θα πρέπει να έχετε ενεργοποιήσει την λειτουργία εικονικοποίησης (virtualization)
στις ρυθμίσεις BIOS του μηχανήματός σας.

# Εγκατάσταση της εικονικής μηχανής

Αρχικά εγκαταστήστε το λογισμικό [Virtual Box](https://www.virtualbox.org/) στο σύστημά σας.

Στη συνέχεια κατεβάστε το Debian .iso αρχείο το οποία αντιστοιχεί στην αρχιτεκτονική του επεξεργαστή σας. 
Σε περίπτωση που **δεν** ξέρετε αν έχετε αρχιτεκτονική 64 ή 32 bit, κατεβάστε το 64 bit iso (η πλειοψηφία των συστημάτων πλέον είναι 64bit).

* [Κατεβάστε από εδώ](https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-11.5.0-amd64-netinst.iso) το Debian .iso για αρχιτεκτονική 64 bit.
* [Κατεβάστε από εδώ](https://cdimage.debian.org/debian-cd/current/i386/iso-cd/debian-11.5.0-i386-netinst.iso) το Debian .iso για αρχιτεκτονική 32 bit.
* [Κατεβάστε από εδώ](https://cdimage.debian.org/debian-cd/current/arm64/iso-cd/debian-11.5.0-arm64-netinst.iso) το Debian .iso για αρχιτεκτονική ARM 64 bit (υπολογιστές Mac).

Εναλλακτικά, μπείτε [εδώ](https://www.debian.org/distrib/netinst#smallcd) για να βρείτε το Debian .iso που αντιστοιχεί στην αρχιτεκτονική του συστήματός σας.

Αυτό το .iso αρχείο περιέχει μέσα όλα τα δεδομένα που χρειάζονται για να εγκαταστήσουμε σε έναν υπολογιστή το λειτουργικό σύστημα.
Αν θέλαμε να εγκαταστήσουμε το λειτουργικό σύστημα Debian κατευθείαν στον υπολογιστή μας, θα έπρεπε να γράψουμε τα περιεχόμενά του σε κάποιο μέσο αποθήκευσης (USB stick, CD-ROM...) και να κάναμε εκκίνηση του συστήματός μας μέσα από αυτό το μέσο.
Σε μία εικονική μηχανή αρκεί να φορτώσουμε το .iso αρχείο στην [εικονική είσοδό](https://en.wikipedia.org/wiki/Parallel_ATA) της για δίσκους.

![Η εφαρμογή Virtual Box](./assets/instructions/install_vm/Screenshot_Thu Oct 27 12:11:45 PM EEST 2022.png){height=30%}

Έπειτα, ανοίξτε το Virtual Box και πατήστε στο κουμπί "New".

**Ακολουθήστε τα βήματα εγκατάστασης με βάση τις παρακάτω εικόνες.**

![Βήμα 1  - Στο πεδίο "Machine Folder" μπορείτε να βάλετε οποιοδήποτε φάκελο στο σύστημά σας.](./assets/instructions/install_vm/Screenshot_Thu Oct 27 12:13:13 PM EEST 2022.png){height=25%}

![Βήμα 2](./assets/instructions/install_vm/Screenshot_Thu Oct 27 12:13:21 PM EEST 2022.png){height=25%}

![Βήμα 3](./assets/instructions/install_vm/Screenshot_Thu Oct 27 12:13:30 PM EEST 2022.png){height=25%}

![Βήμα 4](./assets/instructions/install_vm/Screenshot_Thu Oct 27 12:13:39 PM EEST 2022.png){height=25%}

![Βήμα 5](./assets/instructions/install_vm/Screenshot_Thu Oct 27 12:13:46 PM EEST 2022.png){height=25%}

![Βήμα 6](./assets/instructions/install_vm/Screenshot_Thu Oct 27 12:13:53 PM EEST 2022.png){height=25%}

Κρατάμε τις βασικές ρυθμίσεις εφόσων το εικονικό σύστημα που θα στήσουμε δεν θα χρειαστεί να έχει στη διάθεσή του πολλούς πόρους.

Επιλέξτε την εικονική σας μηχανή από τη λίστα και εκκινήστε τη.

![Η λίστα με τις εικονικές μηχανές που έχουμε δημηιουργήσει στο Virtual Box.](./assets/instructions/list_vms.png){height=35%}

Στο prompt που θα εμφανιστεί θα σας ζητηθεί να επιλέξετε κάποιο δίσκο από τον οποίο θα προσπαθήσει να εκκινηθεί το σύστημα. Εδώ θα επιλέξετε το αρχείο .iso που κατεβάσατε προηγουμένως.

Εναλλακτικά, μπορείτε να πάτε στην εικονική σας μηχανή, στις ρυθμίσεις της και στο μένου "Storage" να επιλέξετε τον δίσκο "Controller: IDE" και να προσθέσετε το αρχείο .iso ως είσοδο.

![Φορτώστε τον εικονικό δίσκο.](./assets/instructions/load_iso.png){height=35%}

Όταν ξεκινήσει πλέον η εικονική μηχανή θα δείτε την εξής οθόνη:

![Αρχική οθόνη εγκατάστασης Debian](./assets/instructions/graphic_install.png){height=35%}

Επιλέξτε "Graphical install" αν θέλετε να έχετε γραφικό περιβάλλον κατά τη διαδικασία εγκατάστασης (προτεινόμενο).
Στην εγκατάσταση θα γίνουν οι εξής ενέργειες: 

* Θα οριστούν βασικές πληροφορίες όπως χρονική ζώνη, τύπος πληκτρολογίου, όνομα χρήστη κ.α
* Θα δημιουργηθούν οι απαραίτητες κατατμήσεις δίσκου ([disk partitions](https://en.wikipedia.org/wiki/Disk_partitioning)) οι οποίες θα ορίσουν ποιες και πώς θα αντιστοιχηθούν περιοχές μνήμης του δίσκου στο σύστημα.
* Θα εγκατασταθούν βασικές εφαρμογές και (προαιρετικά) ένας διαχειριστής παραθύρων ([window manager](https://en.wikipedia.org/wiki/Window_manager)).

**Προσοχή: Θα πρέπει να έχετε πρόσβαση στο διαδίκτυο κατά τη διάρκεια της εγκατάστασης ώστε να κατέβουν στο σύστημά σας όλα τα απαραίτητα πακέτα.**

Στις επιλογές που θα προκύψουν εισάγετε τα ακόλουθα: 

1. Language - English
2. Country, territory or area: (Επιλέξτε τη χώρα που βρίσκεστε αυτή τη στιγμή - η επιλογή αυτή ορίζει πράγματα όπως την ώρα του συστήματός σας)
3. Country to base default local settings on: en_US.UTF-8 (Αυτή η ρύθμιση ορίζει πράγματα όπως τη γλώσσα του συστήματος)
4. Keymap to use: American English (Τα περισσότερα ελληνικά πληκτρολόγια ακολουθούν αμερικάνικη διάταξη για τα σύμβολά τους.)
5. Hostname: debian (Αυτό θα είναι το όνομα με το οποίο άλλες συσκευές στο δίκτο θα αναγνωρίζουν την εικονική σας μηχανή. Μπορεί να είναι ό'τι σας αρέσει.)
6. Domain name: __κενό__
7. Root password: __κωδικός__ (Αυτός θα είναι ο κωδικός για τον χρήστη διαχειριστή της μηχανής σας. Φροντίστε να τον θυμάστε γιατί θα τον χρειαστούμε στη συνέχεια.)
8. Full name for the new user: __Όνομα__ __Επώνυμο__
9. Username for your account: __όνομα__ (Αυτό θα είναι το όνομα χρήστη σας.)
10. Choose a password for the new user: __κωδικός__ (Αυτός θα είναι ο κωδικός με τον οποίο θα συνδέεστε στον λογαριασμό χρήστη σας. Φρόντιστε να τον θυμάστε.) 
11. Partition method: Guided - use entire disk 
12. Select disk to partition: Επιλέξτε τον πρώτο δίσκο στη λίστα. Αυτός θα είναι ο εικονικός δίσκος που δημηιουργήσαμε όταν στήναμε αρχικά την εικονική μηχανή. Θα έχει μέγεθος 8.6Gb.
13. Partition scheme: All files in one partition (Εδώ ορίζουμε πως όλοι οι φάκελοι στον υπολογιστή μας θα βρίσκονται στην ίδια κατάτμηση δίσκου.)
14. Αφού βεβαιωθείτε ότι όλα είναι σωστά, πατήστε στο: "Finish partitiong and write changes to disk". Μετά επιλέξτε την επιλογή "Yes".

![Η κατάτμηση του δίσκου.](./assets/instructions/disk_partitions.png){height=25%}

15. Περιμένετε...
16. Scan extra insallation media?: No

![Πατήστε "No"](./assets/instructions/no_scan.png){height=25%}

17. Debian archive mirror country: Greece (Εδώ επιλέξτε τη χώρα που βρίσκεται πιο κοντά σε αυτή που είστε γεωγραφικά)
18. Debian archive mirror: deb.debian.org
19. HTTP proxy information: __κενό__
20. Περιμένετε...
21. Participate in the package usage survery?: No ή Yes
22. Choose software to install: Debian desktop environment, GNOME και standard system utilities (Αυτή η επιλογή δεν έχει σημασία. Αν δεν ξέρετε ποιο γραφικό περιβάλλον να επιλέξετε, διαλέξτε το GNOME.) Φυσικά, αν είστε άνετοι με τη χρήση του τερματικού, μπορείτε να έχετε ένα σύστημα χωρίς γραφικό περιβάλλον.

![Πακέτα προς εγκατάσταση.](./assets/instructions/graphical_environment.png){height=25%}

23. Περιμένετε...

Πλέον μπορείτε να επανεκκινήσετε το σύστημα. Μόλις το ανοίξετε ξανά θα μπορείτε να κάνετε login στο χρήστη που δημιουργήσατε.

# Προετοιμασία περιβάλλοντος ανάπτυξης
 
Τώρα έχουμε ένα σύστημα το οποίο τρέχει το λειτουργικό σύστημα Linux. 
Η διανομή μας είναι η Debian.

Αν επιλέξατε το γραφικό περιβάλλον Gnome θα δείτε την εξής οθόνη.

![Οθόνη login του συστήματος.](./assets/instructions/login.png){height=35%}

Κάντε login με τον κωδικό και το όνομα χρήστη που ορίσατε προηγουμέμνως.
Ανοίξτε ένα terminal.
(Κουμπί "Activities" > Search Bar > "Terminal")

Το πρόγραμμα το οποίο ανοίγει είναι ένας προσωμοιωτής τερματικού ([terminal emulator](https://en.wikipedia.org/wiki/Terminal_emulator)). 
Εδώ μπορούμε να εκτελούμε διάφορες εντολές.
Αποτελεί ένα πιο άμεσο μέσο επικοινωνίας με τον υπολογιστή μας σε αντίθεση με τις γραφικές διεπαφές που απευθύνονται σε απλούς χρήστες.

Ο τρόπος που πολλές διανομές Linux χειρίζονται την εγκατάσταση/απεγκατάσταση πακέτων είναι μέσω διαχειριστών πακέτων (package managers).
Αυτά είναι εφαρμογές που δίνοντάς τους το όνομα μίας εφαρμογής, μπορούν να την αναζητήσουν σε κάποιο αποθετήριο, να την κατεβάσουν στο σύστημά μας και να την εγκαταστήσουν. 
Αυτή η μέθοδος εγκατάστασης πακέτων είναι παρόμοια με τον τρόπο που πολλά κινητά επιτρέπουν στους χρήστες να κατεβάζουν εφαρμογές μέσω κάποιου κεντρικού αποθετηρίου (app store). 

Το πρόγραμμα apt είναι αυτό που στα Debian εκτελεί αυτές τις λειτουργίες.
Για την ανάπτυξη του κώδικα θα χρειαστεί να βρίσκονται στο σύστημά μας κάποιες εφαρφμογές.

Για να δουλέψετε με το xv6 Kernel εκτελέστε τις παρακάτω εντολές (δεν χρειάζεται να γράψετε το "$").
Αυτές θα κατεβάσουν για αρχή μερικά απαραίτητα πακέτα όπως ένα compiler toolchain, το πρόγραμμα git για διαχείρηση εκδόσεων κώδικα και 
τον qemu emulator μέσα στον οποίο θα φορτώσουμε και θα τρέξουμε το λειτουργικό σύστημα xv6.

```bash
$ sudo apt install build-essential git qemu qemu-utils qemu-system-x86
```
## Προετοιμασία του xv6

Θα πρέπει να κατεβάσετε τον πηγαίο κώδικα του xv6. Χρησιμοποιείστε το αποθετήριο που έχουμε ετοιμάσει για το μάθημα. 
Είναι βασισμένο σε παλαιότερη έκδοση του xv6 και μπορεί να τρέξει σε 32-bit και 64-bit μηχανήματα.
Στις εργασίες θα χρησιμοποιήσουμε την 32-bit έκδοση του πυρήνα.

```bash
$ git clone https://github.com/vagos/xv6
```

Μέσα στο φάκελο `xv6` θα βρείτε και το αρχείο `Makefile` το οποίο χρησιμοποιείται για την κατασκευή του xv6 με τη χρήση του προγράμματος `make`.

```bash
$ make # Compile xv6
$ make qemu # Run xv6 on qemu
$ make qemu-nox # Run xv6 on qemu without graphical interface
```

Αν όλα πάνε καλά, το σύστημα θα κάνει boot και θα δείτε μπροστά σας ένα παράθυρο. 

![Το λειτουργικό σύστημα τρέχει μέσα στον QEMU emulator.](./assets/instructions/xv6-start.png){height=50%}

Η πρώτη διεργασία που εκτελείται είναι η `init` η οποία με τη σειρά της εκτελεί ένα shell.
Εδώ μπορείτε να γράψετε εντολές όπως σε ένα τερματικό. Γράψτε την εντολή `ls` για να δείτε 
τα αρχεία που βρίσκονται μέσα στο file-system. Μπορείτε να εκτελείται προγράμματα γράφοντας απλά το όνομά τους. 

Εξοικοιωθείτε με τις διαθέσιμες λειτουργίες του λειτουργικού. Ο πηγαίος κώδικας κάθε μίας από τις εφαρμογές αυτές βρίσκεται στον φάκελο `user`.

Προς το παρών, δεν υπάρχει τρόπος να απενεργοποιήσετε το σύστημά σας μέσα από
αυτή τη γραμμή εντολών. Για να στείλετε σήμα shutdown στο qemu emulator
μπορείτε να κλείσετε απλά το παράθυρο ή να
χρησιμοποιήσετε το συνδυασμό `ctr+a x` αν δουλεύετε σε λειτουργια terminal.

**Μπορείτε να συνέχισετε στην εκφώνηση της πρώτης δραστηριότητας!**
